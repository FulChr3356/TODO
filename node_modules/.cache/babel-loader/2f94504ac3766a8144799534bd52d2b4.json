{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";var AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('../../api/login',{method:'GET',body:username,password:password}).then(function(response){if(response.data.accessToken){localStorage.setItem(\"user\",JSON.stringify(response.data));}return response.data;});case 2:case\"end\":return _context.stop();}}},_callee);}));function login(_x,_x2){return _login.apply(this,arguments);}return login;}()},{key:\"logout\",value:function logout(){localStorage.removeItem(\"user\");}},{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username,email,password){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('../../api/register',{method:'POST',body:username,email:email,password:password});case 2:case\"end\":return _context2.stop();}}},_callee2);}));function register(_x3,_x4,_x5){return _register.apply(this,arguments);}return register;}()},{key:\"getCurrentUser\",value:function getCurrentUser(){return JSON.parse(localStorage.getItem(\"user\"));}}]);return AuthService;}();export default new AuthService();","map":{"version":3,"sources":["/Users/cjfulton/Documents/HCL/todo/src/components/auth.service.js"],"names":["axios","AuthService","username","password","fetch","method","body","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email","parse","getItem"],"mappings":"+cAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,W,+NACUC,Q,CAAUC,Q,wIACZC,CAAAA,KAAK,CAAC,iBAAD,CAAoB,CAC3BC,MAAM,CAAE,KADmB,CAE3BC,IAAI,CAAEJ,QAFqB,CAEXC,QAAQ,CAARA,QAFW,CAApB,CAAL,CAIDI,IAJC,CAII,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,CAA+B,CAC3BC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B,EACH,CACD,MAAOD,CAAAA,QAAQ,CAACC,IAAhB,CACH,CATC,C,6KAYD,CACLE,YAAY,CAACI,UAAb,CAAwB,MAAxB,EACH,C,2HAEcb,Q,CAAUc,K,CAAOb,Q,6IACtBC,CAAAA,KAAK,CAAC,oBAAD,CAAuB,CAC9BC,MAAM,CAAE,MADsB,CAE9BC,IAAI,CAAEJ,QAFwB,CAEfc,KAAK,CAALA,KAFe,CAERb,QAAQ,CAARA,QAFQ,CAAvB,C,6MAME,CACb,MAAOU,CAAAA,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAP,CACH,C,2BAGL,cAAe,IAAIjB,CAAAA,WAAJ,EAAf","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n    async login(username, password) {\n        await fetch('../../api/login', {\n            method: 'GET',\n            body: username, password\n        })\n            .then(response => {\n                if (response.data.accessToken) {\n                    localStorage.setItem(\"user\", JSON.stringify(response.data));\n                }\n                return response.data;\n            });\n    }\n\n    logout() {\n        localStorage.removeItem(\"user\");\n    }\n\n    async register(username, email, password) {\n        await fetch('../../api/register', {\n            method: 'POST',\n            body: username,email ,password\n        });\n    }\n\n    getCurrentUser() {\n        return JSON.parse(localStorage.getItem(\"user\"));\n    }\n}\n\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}