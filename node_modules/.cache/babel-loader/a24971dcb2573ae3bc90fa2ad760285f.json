{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cjfulton/Documents/HCL/todo/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{Button,Form,FormGroup,Input,Label}from'reactstrap';import AuthService from\"./auth.service\";var required=function required(value){if(!value){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:\"This field is required!\"});}};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.state={username:\"\",password:\"\",loading:false,message:\"\"};return _this;}_createClass(Login,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();this.setState({message:\"\",loading:true});AuthService.login(this.state.username,this.state.password).then(function(){_this2.props.history.push(\"/dashboard\");},function(error){alert('Invalid creditials');var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this2.setState({loading:false,message:resMessage});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"form-control\",name:\"username\",value:this.state.username,onChange:this.onChangeUsername,validations:[required]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",className:\"form-control\",name:\"password\",value:this.state.password,onChange:this.onChangePassword,validations:[required]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{style:{backgroundColor:\"#2196f3\"},onClick:this.handleLogin,children:\" Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Forgot your password? \",/*#__PURE__*/_jsx(\"a\",{href:\"\",children:\" Reset\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/registration\",children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:\"#2196f3\"},children:\" Create an account\"})})})]})]})});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/cjfulton/Documents/HCL/todo/src/components/login.js"],"names":["React","Component","Link","Button","Form","FormGroup","Input","Label","AuthService","required","value","Login","props","handleLogin","bind","onChangeUsername","onChangePassword","state","username","password","loading","message","e","setState","target","preventDefault","login","then","history","push","error","alert","resMessage","response","data","toString","backgroundColor"],"mappings":"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","sourcesContent":["\nimport React, { Component } from \"react\";\nimport {  Link } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\nimport AuthService from \"./auth.service\";\nconst required = value => {\n    if (!value) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                This field is required!\n            </div>\n        );\n    }\n};\n\n\n\nclass Login extends Component {\n    constructor(props) {\n        super();\n        this.handleLogin = this.handleLogin.bind(this);\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            username: \"\",\n            password: \"\",\n            loading: false,\n            message: \"\"\n        };\n    }\n\n    onChangeUsername(e) {\n        this.setState({\n            username: e.target.value\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n    handleLogin(e) {\n        e.preventDefault();\n\n        this.setState({\n            message: \"\",\n            loading: true\n        });\n\n        AuthService.login(this.state.username, this.state.password).then(\n            () => {\n                this.props.history.push(\"/dashboard\");\n            },\n            error => {\n                alert('Invalid creditials');\n                const resMessage =\n                    (error.response &&\n                        error.response.data &&\n                        error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                this.setState({\n                    loading: false,\n                    message: resMessage\n                });\n            }\n\n        );\n\n\n    }\n\n    render() {\n        return (\n            <form>\n                <div>\n                    <hr />\n                    <div>\n                        <Form>\n                            <FormGroup>\n                                <Label for=\"username\">Username</Label>\n                                <Input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    name=\"username\"\n                                    value={this.state.username}\n                                    onChange={this.onChangeUsername}\n                                    validations={[required]}\n                                />\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"password\">Password</Label>\n                                <Input type=\"password\"\n                                       className=\"form-control\"\n                                       name=\"password\"\n                                       value={this.state.password}\n                                       onChange={this.onChangePassword}\n                                       validations={[required]}/>\n                            </FormGroup>\n\n                        </Form>\n                    </div>\n                    <div>\n\n                        <Button style = {{backgroundColor: \"#2196f3\"}} onClick = {this.handleLogin}  > Sign in</Button>\n                        <p>Forgot your password? <a href=\"\" > Reset</a></p>\n                        <div >\n                            <Link className = \"nav-link\" to = {\"/registration\"}>\n                                <Button style = {{backgroundColor: \"#2196f3\"}} > Create an account</Button>\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}